{"version":3,"sources":["webpack:///./src/components/AMap.vue?782c","webpack:///./src/components/AMap.vue?a763","webpack:///src/components/AMap.vue","webpack:///./src/components/AMap.vue?a70d","webpack:///./src/components/AMap.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","startAnimation","pauseAnimation","resumeAnimation","stopAnimation","staticRenderFns","name","data","aMap","geolocation","marker","lineArr","mounted","init","methods","center","resizeEnable","zoom","map","position","icon","offset","autoRotation","angle","path","showDir","strokeColor","strokeWeight","passedPolyline","setPath","e","passedPath","setFitView","onComplete","str","push","location_type","accuracy","isConverted","onError","console","log","moveAlong","pauseMove","resumeMove","stopMove","component"],"mappings":"yIAAA,yBAAiiB,EAAG,G,yCCApiB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,eAAeH,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQE,GAAG,CAAC,MAAQT,EAAIU,kBAAkBN,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQE,GAAG,CAAC,MAAQT,EAAIW,oBAAoBP,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQE,GAAG,CAAC,MAAQT,EAAIY,mBAAmBR,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQE,GAAG,CAAC,MAAQT,EAAIa,wBAC3nBC,EAAkB,G,qBCkBtB,GACEC,KAAM,OACNC,KAFF,WAGI,MAAO,CACLC,KAAM,KACNC,YAAa,KACbC,OAAQ,KACRC,QAAS,CACf,uBACA,uBACA,yBAIEC,QAdF,WAeIpB,KAAKqB,QAEPC,QAAS,CACPD,KADJ,WAGMrB,KAAKgB,KAAO,IAAI,EAAtB,mBACQO,OAAQ,CAAC,WAAY,WACrBC,cAAc,EACdC,KAAM,KA0BRzB,KAAKkB,OAAS,IAAI,EAAxB,UACQQ,IAAK1B,KAAKgB,KACVW,SAAU,CAAC,WAAY,WACvBC,KAAM,yCACNC,OAAQ,IAAI,EAApB,iBACQC,cAAc,EACdC,OAAQ,KAIV,IAAI,EAAV,YACQL,IAAK1B,KAAKgB,KACVgB,KAAMhC,KAAKmB,QACXc,SAAS,EACTC,YAAa,OAEbC,aAAc,IAIhB,IAAIC,EAAiB,IAAI,EAA/B,YACQV,IAAK1B,KAAKgB,KAEVkB,YAAa,OAEbC,aAAc,IAIhBnC,KAAKkB,OAAOV,GAAG,UAAU,SAA/B,GACQ4B,EAAeC,QAAQC,EAAEC,eAG3BvC,KAAKgB,KAAKwB,cAEZC,WAnEJ,SAmEA,GACM,IAAIC,EAAM,GACVA,EAAIC,KAAK,QAAU5B,EAAKY,UACxBe,EAAIC,KAAK,QAAU5B,EAAK6B,eACpB7B,EAAK8B,UACPH,EAAIC,KAAK,MAAQ5B,EAAK8B,SAAW,MAEnCH,EAAIC,KAAK,WAAa5B,EAAK+B,YAAc,IAAM,OAEjDC,QA5EJ,SA4EA,GACMC,QAAQC,IAAIlC,IAEdN,eA/EJ,WAgFMT,KAAKkB,OAAOgC,UAAUlD,KAAKmB,QAAS,MAEtCT,eAlFJ,WAmFMV,KAAKkB,OAAOiC,aAEdxC,gBArFJ,WAsFMX,KAAKkB,OAAOkC,cAEdxC,cAxFJ,WAyFMZ,KAAKkB,OAAOmC,cC7H4T,I,wBCQ1UC,EAAY,eACd,EACAxD,EACAe,GACA,EACA,KACA,WACA,MAIa,aAAAyC,E","file":"js/chunk-653e821c.3392cf32.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AMap.vue?vue&type=style&index=0&id=3079e8d6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AMap.vue?vue&type=style&index=0&id=3079e8d6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-box\"},[_c('div',{attrs:{\"id\":\"container\"}}),_c('div',{staticClass:\"map-box-input-card\"},[_c('h4',[_vm._v(\"轨迹回放控制\")]),_c('div',{staticClass:\"input-item\"},[_c('input',{attrs:{\"type\":\"button\",\"value\":\"开始动画\"},on:{\"click\":_vm.startAnimation}}),_c('input',{attrs:{\"type\":\"button\",\"value\":\"暂停动画\"},on:{\"click\":_vm.pauseAnimation}})]),_c('div',{staticClass:\"input-item\"},[_c('input',{attrs:{\"type\":\"button\",\"value\":\"继续动画\"},on:{\"click\":_vm.resumeAnimation}}),_c('input',{attrs:{\"type\":\"button\",\"value\":\"停止动画\"},on:{\"click\":_vm.stopAnimation}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"map-box\">\n    <div id=\"container\"></div>\n    <div class=\"map-box-input-card\">\n      <h4>轨迹回放控制</h4>\n      <div class=\"input-item\">\n        <input type=\"button\" value=\"开始动画\" @click=\"startAnimation\" />\n        <input type=\"button\" value=\"暂停动画\" @click=\"pauseAnimation\" />\n      </div>\n      <div class=\"input-item\">\n        <input type=\"button\" value=\"继续动画\" @click=\"resumeAnimation\" />\n        <input type=\"button\" value=\"停止动画\" @click=\"stopAnimation\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AMap from \"AMap\";\nexport default {\n  name: \"AMap\",\n  data() {\n    return {\n      aMap: null,\n      geolocation: null,\n      marker: null,\n      lineArr: [\n        [120.252202, 30.245262],\n        [120.250409, 30.246961],\n        [120.219643, 30.26209],\n      ],\n    };\n  },\n  mounted() {\n    this.init();\n  },\n  methods: {\n    init() {\n      // let _this = this\n      this.aMap = new AMap.Map(\"container\", {\n        center: [120.252202, 30.245262],\n        resizeEnable: true,\n        zoom: 10,\n      });\n      // this.aMap.plugin('AMap.Geolocation', function () {\n      //   _this.geolocation = new AMap.Geolocation({\n      //     enableHighAccuracy: true,//是否使用高精度定位，默认:true\n      //     timeout: 10000,          //超过10秒后停止定位，默认：无穷大\n      //     maximumAge: 0,           //定位结果缓存0毫秒，默认：0\n      //     convert: true,           //自动偏移坐标，偏移后的坐标为高德坐标，默认：true\n      //     showButton: true,        //显示定位按钮，默认：true\n      //     buttonPosition: 'LB',    //定位按钮停靠位置，默认：'LB'，左下角\n      //     buttonOffset: new AMap.Pixel(10, 20),//定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)\n      //     showMarker: true,        //定位成功后在定位到的位置显示点标记，默认：true\n      //     showCircle: true,        //定位成功后用圆圈表示定位精度范围，默认：true\n      //     panToLocation: true,     //定位成功后将定位到的位置作为地图中心点，默认：true\n      //     zoomToAccuracy: true      //定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\n      //   });\n      //   _this.aMap.addControl(_this.geolocation);\n      //   _this.geolocation.getCurrentPosition(function (status, result) {\n      //     if (status == 'complete') {\n      //       _this.onComplete(result)\n      //     } else {\n      //       _this.onError(result)\n      //     }\n      //   });\n\n      // })\n      this.marker = new AMap.Marker({\n        map: this.aMap,\n        position: [120.252202, 30.245262],\n        icon: \"https://webapi.amap.com/images/car.png\",\n        offset: new AMap.Pixel(-26, -13),\n        autoRotation: true,\n        angle: -90,\n      });\n\n      // 绘制轨迹\n      new AMap.Polyline({\n        map: this.aMap,\n        path: this.lineArr,\n        showDir: true,\n        strokeColor: \"#28F\", //线颜色\n        // strokeOpacity: 1,     //线透明度\n        strokeWeight: 6, //线宽\n        // strokeStyle: \"solid\"  //线样式\n      });\n\n      var passedPolyline = new AMap.Polyline({\n        map: this.aMap,\n        // path: lineArr,\n        strokeColor: \"#AF5\", //线颜色\n        // strokeOpacity: 1,     //线透明度\n        strokeWeight: 6, //线宽\n        // strokeStyle: \"solid\"  //线样式\n      });\n\n      this.marker.on(\"moving\", function(e) {\n        passedPolyline.setPath(e.passedPath);\n      });\n\n      this.aMap.setFitView();\n    },\n    onComplete(data) {\n      var str = [];\n      str.push(\"定位结果：\" + data.position);\n      str.push(\"定位类别：\" + data.location_type);\n      if (data.accuracy) {\n        str.push(\"精度：\" + data.accuracy + \" 米\");\n      } //如为IP精确定位结果则没有精度信息\n      str.push(\"是否经过偏移：\" + (data.isConverted ? \"是\" : \"否\"));\n    },\n    onError(data) {\n      console.log(data);\n    },\n    startAnimation() {\n      this.marker.moveAlong(this.lineArr, 800);\n    },\n    pauseAnimation() {\n      this.marker.pauseMove();\n    },\n    resumeAnimation() {\n      this.marker.resumeMove();\n    },\n    stopAnimation() {\n      this.marker.stopMove();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#container {\n  width: 100%;\n  height: 1080px;\n}\n.map-box {\n  position: relative;\n  &-input-card {\n    position: absolute;\n    bottom: 30px;\n    left: 30px;\n    width: 300px;\n    height: 150px;\n    background: #fff;\n    input {\n      margin: 10px;\n    }\n    h4 {\n      color: rgb(17, 18, 19);\n      margin: 10px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AMap.vue?vue&type=template&id=3079e8d6&scoped=true&\"\nimport script from \"./AMap.vue?vue&type=script&lang=js&\"\nexport * from \"./AMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AMap.vue?vue&type=style&index=0&id=3079e8d6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3079e8d6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}